{% extends "base.html" %}

{% block content %}
    <h2>{{ restaurant.name }} Location</h2>
    <div id='map' style='width: 100%; height: 500px;'></div>

    <script>
        mapboxgl.accessToken = '{{ mapbox_access_token }}';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [{{ restaurant.longitude }}, {{ restaurant.latitude }}],
            zoom: 15
        });

        new mapboxgl.Marker()
            .setLngLat([{{ restaurant.longitude }}, {{ restaurant.latitude }}])
            .setPopup(new mapboxgl.Popup().setHTML('<h3>{{ restaurant.name }}</h3><p>{{ restaurant.address }}</p>'))
            .addTo(map);
    </script>
{% endblock %}
